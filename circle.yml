machine:
  python:
    version: 2.7.5

dependencies:
  override:
#    - sudo apt-get install libssl-dev
#    - sudo add-apt-repository ppa:fkrull/deadsnakes -y
#    - sudo apt-get update
#    - sudo apt-get install python2.7
    # Have to upgrade virtualenv to make a virtualenv with python3
#    - (virtualenv ~/virtualenvs/venv-2.7.5 -p /usr/bin/python2.7)
#    - (deactivate && source ~/virtualenvs/venv-3.5.0/bin/activate && pip install -r requirements35.txt)
#    - (deactivate && source ~/virtualenvs/venv-2.7.5/bin/activate && pip install -r requirements27.txt)
    - pip install -r requirements27.txt
test:
  override:
    # Just do python 2 tests for now since py3 is fine
    #- (deactivate && source ~/virtualenvs/venv-3.5.0/bin/activate && py.test)
#    - (deactivate && source ~/virtualenvs/venv-2.7.5/bin/activate && pip freeze && py.test)
#    - flake8
    - deactivate; pyenv global 3.5.0; py.test